<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Utopian Snake</title>
<style>
    body {
        background:#0a0f0a;
        font-family:Arial, sans-serif;
        margin:0;
        padding:0;
        display:flex;
        justify-content:center;
        align-items:center;
        min-height:100vh;
    }

    .container {
        width:100%;
        max-width:900px;
        padding:16px;
    }

    .title {
        text-align:center;
        font-size:32px;
        font-weight:bold;
        color:#b6ffb0;
        text-shadow:0 0 12px #00ff88;
        margin-bottom:20px;
    }

    .card {
        background:rgba(0,0,0,0.35);
        border:1px solid #1d4d1d;
        border-radius:16px;
        padding:20px;
        display:flex;
        gap:24px;
        box-shadow:0 0 18px rgba(0,255,140,0.25);
    }

    canvas {
        background:#001700;
        border:2px solid #00aa55;
        border-radius:10px;
        display:block;
    }

    .hud {
        display:flex;
        flex-direction:column;
        gap:20px;
        color:#b8ffcb;
        width:260px;
    }

    .row {
        display:flex;
        justify-content:space-between;
        align-items:center;
    }

    button {
        padding:10px 14px;
        background:#00b15a;
        color:#000;
        border:none;
        border-radius:8px;
        font-weight:bold;
        cursor:pointer;
        transition:0.2s;
    }
    button:hover {
        background:#00ff88;
    }

    /* ðŸŒŸ REAL FIX FOR PHONES */
    @media(max-width:720px){
        .card {
            flex-direction:column;
            align-items:center;
            padding:14px;
            gap:16px;
        }

        canvas {
            width:300px !important;
            height:300px !important;
        }

        .hud {
            width:100%;
            align-items:center;
            text-align:center;
        }

        .row {
            width:100%;
            justify-content:center;
            gap:18px;
        }
    }
</style>
</head>
<body>

<div class="container">
    <div class="title">Byte Serpent</div>

    <div class="card">
        <canvas id="gameCanvas" width="600" height="600"></canvas>

        <div class="hud">
            <div class="row"><span>Score:</span> <span id="score">0</span></div>
            <div class="row"><span>High Score:</span> <span id="highscore">0</span></div>
            <div class="row">
                <button onclick="startGame()">Start</button>
                <button onclick="resetGame()">Reset</button>
            </div>
        </div>
    </div>
</div>

<script>
    const canvas = document.getElementById("gameCanvas");
    const ctx = canvas.getContext("2d");

    const grid = 20;
    let snake, food, dx, dy, score, highScore;

    function init() {
        snake = [{x:200, y:200}];
        dx = grid;
        dy = 0;
        score = 0;
        document.getElementById("score").textContent = score;
        placeFood();
    }

    function placeFood() {
        food = {
            x: Math.floor(Math.random()* (canvas.width/grid)) * grid,
            y: Math.floor(Math.random()* (canvas.height/grid)) * grid
        };
    }

    function draw() {
        ctx.fillStyle="#002000";
        ctx.fillRect(0,0,canvas.width,canvas.height);

        ctx.fillStyle="#00ff88";
        snake.forEach(p => ctx.fillRect(p.x, p.y, grid-2, grid-2));

        ctx.fillStyle="#ff2e55";
        ctx.fillRect(food.x, food.y, grid-2, grid-2);
    }

    function update() {
        const head = { x: snake[0].x + dx, y: snake[0].y + dy };

        if (head.x<0 || head.x>=canvas.width || head.y<0 || head.y>=canvas.height)
            return gameOver();

        for (let p of snake)
            if (p.x===head.x && p.y===head.y) return gameOver();

        snake.unshift(head);

        if (head.x===food.x && head.y===food.y) {
            score++;
            document.getElementById("score").textContent = score;
            placeFood();
        } else {
            snake.pop();
        }
    }

    function gameLoop() {
        update();
        draw();
    }

    let interval;
    function startGame() {
        clearInterval(interval);
        init();
        interval = setInterval(gameLoop, 100);
    }

    function resetGame() {
        clearInterval(interval);
        init();
        draw();
    }

    function gameOver() {
        clearInterval(interval);
        alert("Game Over!");
    }

    document.addEventListener("keydown", e => {
        if (e.key==="ArrowUp" && dy===0) {dx=0; dy=-grid;}
        if (e.key==="ArrowDown" && dy===0) {dx=0; dy=grid;}
        if (e.key==="ArrowLeft" && dx===0) {dx=-grid; dy=0;}
        if (e.key==="ArrowRight" && dx===0) {dx=grid; dy=0;}
    });

    draw();
</script>
</body>
</html>
